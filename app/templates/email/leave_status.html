{% extends "email/base.html" %}

{% block content %}
<h2>Leave Request {{ status_emoji }}</h2>

<p>Hi {{ employee_name }},</p>

<p>Your leave request has been <strong style="color: {{ status_color }};">{{ status }}</strong>.</p>

<div class="info-box">
    <p><strong>Leave Details:</strong></p>
    <p><strong>Type:</strong> {{ leave_type }}</p>
    <p><strong>From:</strong> {{ from_date }}</p>
    <p><strong>To:</strong> {{ to_date }}</p>
    <p><strong>Duration:</strong> {{ duration }} day(s)</p>
    <p><strong>Status:</strong> <span style="font-weight: 600; color: {{ status_color }};">{{ status }}</span></p>
</div>

{% if reason %}
<p><strong>Reason:</strong> {{ reason }}</p>
{% endif %}

{% if approver_comments %}
<div class="info-box" style="border-left: 4px solid {{ status_color }}; background-color: #f9fafb;">
    <p><strong>{{ approver_name }}'s Comments:</strong></p>
    <p style="font-style: italic; color: #4b5563;">"{{ approver_comments }}"</p>
</div>
{% endif %}

{% if status == 'Approved' %}
<div style="background-color: #ecfdf5; border: 1px solid #d1fae5; color: #065f46; padding: 12px; border-radius: 6px; margin-top: 16px;">
    âœ“ Your leave has been approved. Please ensure proper handover of your responsibilities.
</div>
{% elif status == 'Rejected' %}
<div style="background-color: #fef2f2; border: 1px solid #fee2e2; color: #b91c1c; padding: 12px; border-radius: 6px; margin-top: 16px;">
    Your leave request was not approved. Please contact your manager for more details.
</div>
{% endif %}

<p style="margin-top: 24px;"><strong>Current Leave Balance:</strong></p>
<ul>
    {% for balance in leave_balances %}
    <li>{{ balance.type }}: <strong>{{ balance.available }}</strong> days remaining</li>
    {% endfor %}
</ul>

<center>
    <a href="{{ dashboard_url }}" class="button">View Leave Dashboard</a>
</center>
{% endblock %}
